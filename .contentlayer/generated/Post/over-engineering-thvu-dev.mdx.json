{
  "title": "Over-engineering thvu.dev",
  "date": "2021-09-13T00:00:00.000Z",
  "body": {
    "raw": "\nRead on to learn how I bootstrapped this site from template starter to the current over-engineered state. I called it over-engineered because I think I over-killed the site by optimizing the Lighthouse score, CSP headers, and all the service integrations I squeeze in it ðŸ˜…\n\n<TOCInline toc={props.toc} exclude=\"Overview\" asDisclosure />\n\n# Get started\n\n## Template\n\nI use [@Tim](https://twitter.com/timlrxx)'s [awesome starter template](https://github.com/timlrx/tailwind-nextjs-starter-blog) to bootstrap the project. The template is feature-rich, easy to customize, and easily the best starter for Next.js blogging out there.\n\n## Hosting\n\nHosted on [Vercel](https://vercel.com), with domain from Google Domain.\n\n# Enhancements\n\n## Blogging\n\nI enhance the current writing feature with [mdx-embed](https://www.mdx-embed.com/). For me, it is always nice to have the ability to embed examples from [CodePen](https://codepen.io/). To have this I need to add CodePen to MDX components:\n\n```js\nimport { CodePen } from \"mdx-embed\";\n\nconst MDXComponents = {\n  // ... other components\n  CodePen,\n};\n```\n\nAnd it is done! I also added a new feature, which is Real-time page view count using [PlanetScale](https://planetscale.com/) (More on this later in Guestbook section below)\n\n## <a href=\"/guestbook\">Guestbook</a>\n\nThis feature is inspired by [Lee Robinson's guestbook](https://leerob.io/guestbook) and was fun to work with. I learned from him how to set up and use [PlanetScale for serverless database](https://leerob.io/blog/mysql-planetscale) (previously using [redis with Upstash](https://leerob.io/blog/serverless-redis-nextjs)).\n\nMy tweak in the implementation is authentication for guest users. I used [next-auth](https://next-auth.js.org/) to integrate with Github, Google, and Line to provide authentication.\n\n### Authentication with next-auth\n\n#### Install\n\n```shell\nyarn add next-auth\n```\n\n#### Configure providers\n\nCreate a `[...nextauth].js` file in `pages/api/auth`:\n\n```js\nimport NextAuth from \"next-auth\";\n\nexport default NextAuth({\n  providers: [\n    /* ...providers */\n  ],\n});\n```\n\nBe sure to check with the design guideline to implement the login buttons correctly. Details on how to integrate with each provider are also available on [next-auth's documentation](https://next-auth.js.org/). Below is a summary for my providers:\n\n| Providers | Why                                    | Design guideline                                                     |\n| --------- | -------------------------------------- | -------------------------------------------------------------------- |\n| Google    | Most common login OAuth is a must have | [Google](https://developers.google.com/identity/branding-guidelines) |\n| Github    | For developers                         | [Github](https://github.com/logos)                                   |\n| Line      | My current employer ðŸ˜Ž                 | [Line](https://developers.line.biz/en/docs/line-login/login-button/) |\n\n#### Custom Sign In page\n\nTo override the default `/signin` page, create a custom page and refer it in `[...nextauth].js`:\n\n```js\nexport default NextAuth({\n  // ... other configs\n  pages: {\n    signIn: \"/auth/signin\",\n  },\n});\n```\n\n### With Google Analytics\n\n#### View a page\n\nCheck out the Next.js official example [with-google-analytics](https://github.com/vercel/next.js/tree/canary/examples/with-google-analytics). It covers almost everything you need to integrate GA into your Next.js app.\n\n#### Get pageviews\n\nI use this to display all views for my site.\n\nI use [this snippet](https://leerob.io/snippets/google-analytics) to get `pageviews`. Notice that now Google is rolling out GAv4 that removed the `View` panel. Therefore, if you want the snippet to work, in your Google Console you need to create a **Universal Analytic Property** and use its ID:\n\n- From your Analytics Admin, click on **Create Property**\n- Enter the property name and click on **Show advance options**\n- Enable **Create a Universal Analytics property**. Check both **Create both a Google Analytics 4 and a Universal Analytics property** and **Enable enhanced measurement for Google Analytics 4 property**\n\n## SSG with DatoCMS\n\nInstead of using the `/data` directory for projects data, I decided to integrate with [DatoCMS](https://www.datocms.com/) for some [Jamstack](https://jamstack.org/) vibes. The process is quite simple:\n\n- Register a new account at DatoCMS\n- Add DatoCMS integration in Vercel\n- Fetch the GraphQL API in `getStaticProps`\n\nI found everything I need in the Next.js [cms-datocms example](https://github.com/vercel/next.js/tree/canary/examples/cms-datocms) and [DatoCMS documentation](https://www.datocms.com/docs). Working with DatoCMS graphql is a nice experience, as I have never worked with graphql before.\n\n> Tips with environment variables: Make use of the Vercel CLI. After added an integration, you can use `vercel env pull` to get the ENV variables to your local `.env` file. I found this to be pretty handy when integrating services.\n\n## ðŸŽ§ Now Playing with Spotify\n\nAnother feature [stolen from Lee](https://leerob.io/blog/spotify-api-nextjs) ðŸ˜„. See his article to learn how to set things up with Spotify API.\n\nThe Music Equalizer component is my touch, which is also available on CodePen as a CSS-only version. The visual is taken from Instagram story's music equalizer.\n\n<CodePen codePenId=\"OJpqEKV\" />\n&nbsp;\n\nThe end result âœ¨\n\n<div className=\"flex items-center justify-center\">\n  <video\n    autoPlay\n    playsInline\n    controls\n    loop\n    src=\"/static/blog/over-engineering-thvu-dev/spotify-playing.mov\"\n  ></video>\n</div>\n\n# Lighthouse score\n\nThe generated site already has a very high Lighthouse score. I added PWA and _perfected_ the bars. Lighthouse report is available [here](https://googlechrome.github.io/lighthouse/viewer/?gist=fabc591d26e4f40c2d4446ed962a629d).\n\n<Tweet tweetLink=\"thanghvu/status/1434148959602176000\" />\nWhat I improved compared to the starter project:\n\n- PWA: Better icons, manifest\n- SEO: Added robots.txt\n\n## PWA\n\nThe easiest way to implement PWA support in a Next.js project is to use [next-pwa](https://www.npmjs.com/package/next-pwa).\n\n### favicons\n\nI use https://realfavicongenerator.net to generate the icons.\n\n### `manifest.json`\n\nTo get the perfect score for PWA, ensure the following in `icons`:\n\n- A 512x512 image for [splash screen](https://web.dev/splash-screen/)\n- An image with `purpose: any maskable`. I use [maskable.app](https://maskable.app/editor) to help with this.\n\n# Content Security Policy\n\nWebsites I use to get CSP rating:\n\n- https://securityheaders.com\n- https://csp-evaluator.withgoogle.com\n\nIf you are implementing CSP for your site, my suggestion is to start with [super strict CSP (lockdown)](https://developers.google.com/web/fundamentals/security/csp#use_case_2_lockdown) and build from there.\n\n# Monitoring with Sentry\n\nSentry with Next.js is a delightful experience. The steps are:\n\n- Go to https://sentry.io to register for a free tier account.\n- Add Sentry integration to Vercel.\n- Install the package and run the wizard:\n\n```shell\nyarn add @sentry/nextjs\nnpx @sentry/wizard -i nextjs\n```\n\nI only want Sentry in production. To do this, in my `next.config.js`:\n\n```js\nmodule.exports = isDevelopment\n  ? nextConfig\n  : withSentryConfig(nextConfig, SentryWebpackPluginOptions);\n```\n\n> `withSentryConfig` has to be the farthest wrapper to ensure that your source maps include changes from all other Webpack plugins.\n\n# Conclusion\n\nAnd there you have it, my over-engineered site, my sweet home on the internet. I learned a lot from other people while building this site. I hope you learned something from this post too. I will continue to upgrade this site in the future, hopefully with more original ideas. Stay tuned for future posts!\n\nThe source code of this site is available on [Github](https://github.com/ThangHuuVu/thvu-blog).\n",
    "code": "var Component=(()=>{var dt=Object.create;var S=Object.defineProperty;var ft=Object.getOwnPropertyDescriptor;var bt=Object.getOwnPropertyNames;var ut=Object.getPrototypeOf,ct=Object.prototype.hasOwnProperty;var z=(d,t)=>()=>(t||d((t={exports:{}}).exports,t),t.exports),_t=(d,t)=>{for(var c in t)S(d,c,{get:t[c],enumerable:!0})},Ne=(d,t,c,R)=>{if(t&&typeof t==\"object\"||typeof t==\"function\")for(let x of bt(t))!ct.call(d,x)&&x!==c&&S(d,x,{get:()=>t[x],enumerable:!(R=ft(t,x))||R.enumerable});return d};var mt=(d,t,c)=>(c=d!=null?dt(ut(d)):{},Ne(t||!d||!d.__esModule?S(c,\"default\",{value:d,enumerable:!0}):c,d)),pt=d=>Ne(S({},\"__esModule\",{value:!0}),d);var Ee=z((Nt,ge)=>{ge.exports=React});var Ae=z(B=>{\"use strict\";(function(){\"use strict\";var d=Ee(),t=Symbol.for(\"react.element\"),c=Symbol.for(\"react.portal\"),R=Symbol.for(\"react.fragment\"),x=Symbol.for(\"react.strict_mode\"),H=Symbol.for(\"react.profiler\"),K=Symbol.for(\"react.provider\"),J=Symbol.for(\"react.context\"),v=Symbol.for(\"react.forward_ref\"),k=Symbol.for(\"react.suspense\"),I=Symbol.for(\"react.suspense_list\"),C=Symbol.for(\"react.memo\"),D=Symbol.for(\"react.lazy\"),Pe=Symbol.for(\"react.offscreen\"),Q=Symbol.iterator,Oe=\"@@iterator\";function Ge(e){if(e===null||typeof e!=\"object\")return null;var a=Q&&e[Q]||e[Oe];return typeof a==\"function\"?a:null}var N=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function _(e){{for(var a=arguments.length,r=new Array(a>1?a-1:0),o=1;o<a;o++)r[o-1]=arguments[o];we(\"error\",e,r)}}function we(e,a,r){{var o=N.ReactDebugCurrentFrame,l=o.getStackAddendum();l!==\"\"&&(a+=\"%s\",r=r.concat([l]));var f=r.map(function(s){return String(s)});f.unshift(\"Warning: \"+a),Function.prototype.apply.call(console[e],console,f)}}var Te=!1,Se=!1,ke=!1,Ie=!1,De=!1,Z;Z=Symbol.for(\"react.module.reference\");function Fe(e){return!!(typeof e==\"string\"||typeof e==\"function\"||e===R||e===H||De||e===x||e===k||e===I||Ie||e===Pe||Te||Se||ke||typeof e==\"object\"&&e!==null&&(e.$$typeof===D||e.$$typeof===C||e.$$typeof===K||e.$$typeof===J||e.$$typeof===v||e.$$typeof===Z||e.getModuleId!==void 0))}function We(e,a,r){var o=e.displayName;if(o)return o;var l=a.displayName||a.name||\"\";return l!==\"\"?r+\"(\"+l+\")\":r}function ee(e){return e.displayName||\"Context\"}function h(e){if(e==null)return null;if(typeof e.tag==\"number\"&&_(\"Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue.\"),typeof e==\"function\")return e.displayName||e.name||null;if(typeof e==\"string\")return e;switch(e){case R:return\"Fragment\";case c:return\"Portal\";case H:return\"Profiler\";case x:return\"StrictMode\";case k:return\"Suspense\";case I:return\"SuspenseList\"}if(typeof e==\"object\")switch(e.$$typeof){case J:var a=e;return ee(a)+\".Consumer\";case K:var r=e;return ee(r._context)+\".Provider\";case v:return We(e,e.render,\"ForwardRef\");case C:var o=e.displayName||null;return o!==null?o:h(e.type)||\"Memo\";case D:{var l=e,f=l._payload,s=l._init;try{return h(s(f))}catch{return null}}}return null}var y=Object.assign,A=0,te,ne,ae,re,oe,ie,se;function le(){}le.__reactDisabledLog=!0;function Le(){{if(A===0){te=console.log,ne=console.info,ae=console.warn,re=console.error,oe=console.group,ie=console.groupCollapsed,se=console.groupEnd;var e={configurable:!0,enumerable:!0,value:le,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}A++}}function Ve(){{if(A--,A===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:y({},e,{value:te}),info:y({},e,{value:ne}),warn:y({},e,{value:ae}),error:y({},e,{value:re}),group:y({},e,{value:oe}),groupCollapsed:y({},e,{value:ie}),groupEnd:y({},e,{value:se})})}A<0&&_(\"disabledDepth fell below zero. This is a bug in React. Please file an issue.\")}}var F=N.ReactCurrentDispatcher,W;function P(e,a,r){{if(W===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\\n( *(at )?)/);W=o&&o[1]||\"\"}return`\n`+W+e}}var L=!1,O;{var Ye=typeof WeakMap==\"function\"?WeakMap:Map;O=new Ye}function de(e,a){if(!e||L)return\"\";{var r=O.get(e);if(r!==void 0)return r}var o;L=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var f;f=F.current,F.current=null,Le();try{if(a){var s=function(){throw Error()};if(Object.defineProperty(s.prototype,\"props\",{set:function(){throw Error()}}),typeof Reflect==\"object\"&&Reflect.construct){try{Reflect.construct(s,[])}catch(j){o=j}Reflect.construct(e,[],s)}else{try{s.call()}catch(j){o=j}e.call(s.prototype)}}else{try{throw Error()}catch(j){o=j}e()}}catch(j){if(j&&o&&typeof j.stack==\"string\"){for(var i=j.stack.split(`\n`),m=o.stack.split(`\n`),b=i.length-1,u=m.length-1;b>=1&&u>=0&&i[b]!==m[u];)u--;for(;b>=1&&u>=0;b--,u--)if(i[b]!==m[u]){if(b!==1||u!==1)do if(b--,u--,u<0||i[b]!==m[u]){var p=`\n`+i[b].replace(\" at new \",\" at \");return e.displayName&&p.includes(\"<anonymous>\")&&(p=p.replace(\"<anonymous>\",e.displayName)),typeof e==\"function\"&&O.set(e,p),p}while(b>=1&&u>=0);break}}}finally{L=!1,F.current=f,Ve(),Error.prepareStackTrace=l}var E=e?e.displayName||e.name:\"\",ye=E?P(E):\"\";return typeof e==\"function\"&&O.set(e,ye),ye}function $e(e,a,r){return de(e,!1)}function Ue(e){var a=e.prototype;return!!(a&&a.isReactComponent)}function G(e,a,r){if(e==null)return\"\";if(typeof e==\"function\")return de(e,Ue(e));if(typeof e==\"string\")return P(e);switch(e){case k:return P(\"Suspense\");case I:return P(\"SuspenseList\")}if(typeof e==\"object\")switch(e.$$typeof){case v:return $e(e.render);case C:return G(e.type,a,r);case D:{var o=e,l=o._payload,f=o._init;try{return G(f(l),a,r)}catch{}}}return\"\"}var w=Object.prototype.hasOwnProperty,fe={},be=N.ReactDebugCurrentFrame;function T(e){if(e){var a=e._owner,r=G(e.type,e._source,a?a.type:null);be.setExtraStackFrame(r)}else be.setExtraStackFrame(null)}function qe(e,a,r,o,l){{var f=Function.call.bind(w);for(var s in e)if(f(e,s)){var i=void 0;try{if(typeof e[s]!=\"function\"){var m=Error((o||\"React class\")+\": \"+r+\" type `\"+s+\"` is invalid; it must be a function, usually from the `prop-types` package, but received `\"+typeof e[s]+\"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.\");throw m.name=\"Invariant Violation\",m}i=e[s](a,s,o,r,null,\"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED\")}catch(b){i=b}i&&!(i instanceof Error)&&(T(l),_(\"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).\",o||\"React class\",r,s,typeof i),T(null)),i instanceof Error&&!(i.message in fe)&&(fe[i.message]=!0,T(l),_(\"Failed %s type: %s\",r,i.message),T(null))}}}var ze=Array.isArray;function V(e){return ze(e)}function Be(e){{var a=typeof Symbol==\"function\"&&Symbol.toStringTag,r=a&&e[Symbol.toStringTag]||e.constructor.name||\"Object\";return r}}function Xe(e){try{return ue(e),!1}catch{return!0}}function ue(e){return\"\"+e}function ce(e){if(Xe(e))return _(\"The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.\",Be(e)),ue(e)}var M=N.ReactCurrentOwner,He={key:!0,ref:!0,__self:!0,__source:!0},_e,me,Y;Y={};function Ke(e){if(w.call(e,\"ref\")){var a=Object.getOwnPropertyDescriptor(e,\"ref\").get;if(a&&a.isReactWarning)return!1}return e.ref!==void 0}function Je(e){if(w.call(e,\"key\")){var a=Object.getOwnPropertyDescriptor(e,\"key\").get;if(a&&a.isReactWarning)return!1}return e.key!==void 0}function Qe(e,a){if(typeof e.ref==\"string\"&&M.current&&a&&M.current.stateNode!==a){var r=h(M.current.type);Y[r]||(_('Component \"%s\" contains the string ref \"%s\". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',h(M.current.type),e.ref),Y[r]=!0)}}function Ze(e,a){{var r=function(){_e||(_e=!0,_(\"%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",a))};r.isReactWarning=!0,Object.defineProperty(e,\"key\",{get:r,configurable:!0})}}function et(e,a){{var r=function(){me||(me=!0,_(\"%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)\",a))};r.isReactWarning=!0,Object.defineProperty(e,\"ref\",{get:r,configurable:!0})}}var tt=function(e,a,r,o,l,f,s){var i={$$typeof:t,type:e,key:a,ref:r,props:s,_owner:f};return i._store={},Object.defineProperty(i._store,\"validated\",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(i,\"_self\",{configurable:!1,enumerable:!1,writable:!1,value:o}),Object.defineProperty(i,\"_source\",{configurable:!1,enumerable:!1,writable:!1,value:l}),Object.freeze&&(Object.freeze(i.props),Object.freeze(i)),i};function nt(e,a,r,o,l){{var f,s={},i=null,m=null;r!==void 0&&(ce(r),i=\"\"+r),Je(a)&&(ce(a.key),i=\"\"+a.key),Ke(a)&&(m=a.ref,Qe(a,l));for(f in a)w.call(a,f)&&!He.hasOwnProperty(f)&&(s[f]=a[f]);if(e&&e.defaultProps){var b=e.defaultProps;for(f in b)s[f]===void 0&&(s[f]=b[f])}if(i||m){var u=typeof e==\"function\"?e.displayName||e.name||\"Unknown\":e;i&&Ze(s,u),m&&et(s,u)}return tt(e,i,m,l,o,M.current,s)}}var $=N.ReactCurrentOwner,pe=N.ReactDebugCurrentFrame;function g(e){if(e){var a=e._owner,r=G(e.type,e._source,a?a.type:null);pe.setExtraStackFrame(r)}else pe.setExtraStackFrame(null)}var U;U=!1;function q(e){return typeof e==\"object\"&&e!==null&&e.$$typeof===t}function xe(){{if($.current){var e=h($.current.type);if(e)return`\n\nCheck the render method of \\``+e+\"`.\"}return\"\"}}function at(e){{if(e!==void 0){var a=e.fileName.replace(/^.*[\\\\\\/]/,\"\"),r=e.lineNumber;return`\n\nCheck your code at `+a+\":\"+r+\".\"}return\"\"}}var Re={};function rt(e){{var a=xe();if(!a){var r=typeof e==\"string\"?e:e.displayName||e.name;r&&(a=`\n\nCheck the top-level render call using <`+r+\">.\")}return a}}function he(e,a){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var r=rt(a);if(Re[r])return;Re[r]=!0;var o=\"\";e&&e._owner&&e._owner!==$.current&&(o=\" It was passed a child from \"+h(e._owner.type)+\".\"),g(e),_('Each child in a list should have a unique \"key\" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',r,o),g(null)}}function je(e,a){{if(typeof e!=\"object\")return;if(V(e))for(var r=0;r<e.length;r++){var o=e[r];q(o)&&he(o,a)}else if(q(e))e._store&&(e._store.validated=!0);else if(e){var l=Ge(e);if(typeof l==\"function\"&&l!==e.entries)for(var f=l.call(e),s;!(s=f.next()).done;)q(s.value)&&he(s.value,a)}}}function ot(e){{var a=e.type;if(a==null||typeof a==\"string\")return;var r;if(typeof a==\"function\")r=a.propTypes;else if(typeof a==\"object\"&&(a.$$typeof===v||a.$$typeof===C))r=a.propTypes;else return;if(r){var o=h(a);qe(r,e.props,\"prop\",o,e)}else if(a.PropTypes!==void 0&&!U){U=!0;var l=h(a);_(\"Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?\",l||\"Unknown\")}typeof a.getDefaultProps==\"function\"&&!a.getDefaultProps.isReactClassApproved&&_(\"getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.\")}}function it(e){{for(var a=Object.keys(e.props),r=0;r<a.length;r++){var o=a[r];if(o!==\"children\"&&o!==\"key\"){g(e),_(\"Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.\",o),g(null);break}}e.ref!==null&&(g(e),_(\"Invalid attribute `ref` supplied to `React.Fragment`.\"),g(null))}}function st(e,a,r,o,l,f){{var s=Fe(e);if(!s){var i=\"\";(e===void 0||typeof e==\"object\"&&e!==null&&Object.keys(e).length===0)&&(i+=\" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.\");var m=at(l);m?i+=m:i+=xe();var b;e===null?b=\"null\":V(e)?b=\"array\":e!==void 0&&e.$$typeof===t?(b=\"<\"+(h(e.type)||\"Unknown\")+\" />\",i=\" Did you accidentally export a JSX literal instead of a component?\"):b=typeof e,_(\"React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s\",b,i)}var u=nt(e,a,r,l,f);if(u==null)return u;if(s){var p=a.children;if(p!==void 0)if(o)if(V(p)){for(var E=0;E<p.length;E++)je(p[E],e);Object.freeze&&Object.freeze(p)}else _(\"React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.\");else je(p,e)}return e===R?it(u):ot(u),u}}var lt=st;B.Fragment=R,B.jsxDEV=lt})()});var ve=z((Et,Me)=>{\"use strict\";Me.exports=Ae()});var jt={};_t(jt,{default:()=>ht,frontmatter:()=>xt});var n=mt(ve()),xt={title:\"Over-engineering thvu.dev\",date:\"2021-09-13\",tags:[\"Next.js\",\"Vercel\",\"Tailwind CSS\",\"PlanetScale\",\"Serverless\",\"NextAuth.js\",\"DatoCMS\",\"Lighthouse\",\"PWA\",\"Google Analytics\",\"Sentry\"],draft:!1,summary:\"Let's review how I built this site in public.\",images:[\"/static/blog/over-engineering-thvu-dev/over-engineering-thvu-dev.png\"]};function Ce(d){let t=Object.assign({p:\"p\",h1:\"h1\",h2:\"h2\",a:\"a\",pre:\"pre\",code:\"code\",h3:\"h3\",h4:\"h4\",strong:\"strong\",ul:\"ul\",li:\"li\",blockquote:\"blockquote\",em:\"em\"},d.components),{TOCInline:c,CodePen:R,Tweet:x}=t;return R||X(\"CodePen\",!0,\"137:1-137:32\"),c||X(\"TOCInline\",!0,\"25:1-25:62\"),x||X(\"Tweet\",!0,\"156:1-156:58\"),(0,n.jsxDEV)(n.Fragment,{children:[(0,n.jsxDEV)(t.p,{children:\"Read on to learn how I bootstrapped this site from template starter to the current over-engineered state. I called it over-engineered because I think I over-killed the site by optimizing the Lighthouse score, CSP headers, and all the service integrations I squeeze in it \\u{1F605}\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:23,columnNumber:1},this),`\n`,(0,n.jsxDEV)(c,{toc:d.toc,exclude:\"Overview\",asDisclosure:!0},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:25,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h1,{children:\"Get started\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:27,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h2,{children:\"Template\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:29,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"I use \",(0,n.jsxDEV)(t.a,{href:\"https://twitter.com/timlrxx\",children:\"@Tim\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:31,columnNumber:7},this),\"'s \",(0,n.jsxDEV)(t.a,{href:\"https://github.com/timlrx/tailwind-nextjs-starter-blog\",children:\"awesome starter template\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:31,columnNumber:45},this),\" to bootstrap the project. The template is feature-rich, easy to customize, and easily the best starter for Next.js blogging out there.\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:31,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h2,{children:\"Hosting\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:33,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"Hosted on \",(0,n.jsxDEV)(t.a,{href:\"https://vercel.com\",children:\"Vercel\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:35,columnNumber:11},this),\", with domain from Google Domain.\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:35,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h1,{children:\"Enhancements\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:37,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h2,{children:\"Blogging\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:39,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"I enhance the current writing feature with \",(0,n.jsxDEV)(t.a,{href:\"https://www.mdx-embed.com/\",children:\"mdx-embed\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:41,columnNumber:44},this),\". For me, it is always nice to have the ability to embed examples from \",(0,n.jsxDEV)(t.a,{href:\"https://codepen.io/\",children:\"CodePen\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:41,columnNumber:154},this),\". To have this I need to add CodePen to MDX components:\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:41,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.pre,{children:(0,n.jsxDEV)(t.code,{className:\"language-js\",children:`import { CodePen } from \"mdx-embed\";\n\nconst MDXComponents = {\n  // ... other components\n  CodePen,\n};\n`},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:43,columnNumber:1},this)},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:43,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"And it is done! I also added a new feature, which is Real-time page view count using \",(0,n.jsxDEV)(t.a,{href:\"https://planetscale.com/\",children:\"PlanetScale\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:52,columnNumber:86},this),\" (More on this later in Guestbook section below)\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:52,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h2,{children:(0,n.jsxDEV)(\"a\",{href:\"/guestbook\",children:\"Guestbook\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:54,columnNumber:4},this)},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:54,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"This feature is inspired by \",(0,n.jsxDEV)(t.a,{href:\"https://leerob.io/guestbook\",children:\"Lee Robinson's guestbook\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:56,columnNumber:29},this),\" and was fun to work with. I learned from him how to set up and use \",(0,n.jsxDEV)(t.a,{href:\"https://leerob.io/blog/mysql-planetscale\",children:\"PlanetScale for serverless database\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:56,columnNumber:152},this),\" (previously using \",(0,n.jsxDEV)(t.a,{href:\"https://leerob.io/blog/serverless-redis-nextjs\",children:\"redis with Upstash\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:56,columnNumber:250},this),\").\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:56,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"My tweak in the implementation is authentication for guest users. I used \",(0,n.jsxDEV)(t.a,{href:\"https://next-auth.js.org/\",children:\"next-auth\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:58,columnNumber:74},this),\" to integrate with Github, Google, and Line to provide authentication.\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:58,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h3,{children:\"Authentication with next-auth\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:60,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h4,{children:\"Install\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:62,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.pre,{children:(0,n.jsxDEV)(t.code,{className:\"language-shell\",children:`yarn add next-auth\n`},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:64,columnNumber:1},this)},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:64,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h4,{children:\"Configure providers\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:68,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"Create a \",(0,n.jsxDEV)(t.code,{children:\"[...nextauth].js\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:70,columnNumber:10},this),\" file in \",(0,n.jsxDEV)(t.code,{children:\"pages/api/auth\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:70,columnNumber:37},this),\":\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:70,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.pre,{children:(0,n.jsxDEV)(t.code,{className:\"language-js\",children:`import NextAuth from \"next-auth\";\n\nexport default NextAuth({\n  providers: [\n    /* ...providers */\n  ],\n});\n`},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:72,columnNumber:1},this)},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:72,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"Be sure to check with the design guideline to implement the login buttons correctly. Details on how to integrate with each provider are also available on \",(0,n.jsxDEV)(t.a,{href:\"https://next-auth.js.org/\",children:\"next-auth's documentation\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:82,columnNumber:155},this),\". Below is a summary for my providers:\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:82,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[`| Providers | Why                                    | Design guideline                                                     |\n| --------- | -------------------------------------- | -------------------------------------------------------------------- |\n| Google    | Most common login OAuth is a must have | `,(0,n.jsxDEV)(t.a,{href:\"https://developers.google.com/identity/branding-guidelines\",children:\"Google\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:86,columnNumber:56},this),` |\n| Github    | For developers                         | `,(0,n.jsxDEV)(t.a,{href:\"https://github.com/logos\",children:\"Github\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:87,columnNumber:56},this),`                                   |\n| Line      | My current employer \\u{1F60E}                 | `,(0,n.jsxDEV)(t.a,{href:\"https://developers.line.biz/en/docs/line-login/login-button/\",children:\"Line\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:88,columnNumber:56},this),\" |\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:84,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h4,{children:\"Custom Sign In page\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:90,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"To override the default \",(0,n.jsxDEV)(t.code,{children:\"/signin\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:92,columnNumber:25},this),\" page, create a custom page and refer it in \",(0,n.jsxDEV)(t.code,{children:\"[...nextauth].js\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:92,columnNumber:78},this),\":\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:92,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.pre,{children:(0,n.jsxDEV)(t.code,{className:\"language-js\",children:`export default NextAuth({\n  // ... other configs\n  pages: {\n    signIn: \"/auth/signin\",\n  },\n});\n`},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:94,columnNumber:1},this)},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:94,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h3,{children:\"With Google Analytics\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:103,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h4,{children:\"View a page\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:105,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"Check out the Next.js official example \",(0,n.jsxDEV)(t.a,{href:\"https://github.com/vercel/next.js/tree/canary/examples/with-google-analytics\",children:\"with-google-analytics\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:107,columnNumber:40},this),\". It covers almost everything you need to integrate GA into your Next.js app.\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:107,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h4,{children:\"Get pageviews\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:109,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:\"I use this to display all views for my site.\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:111,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"I use \",(0,n.jsxDEV)(t.a,{href:\"https://leerob.io/snippets/google-analytics\",children:\"this snippet\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:113,columnNumber:7},this),\" to get \",(0,n.jsxDEV)(t.code,{children:\"pageviews\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:113,columnNumber:74},this),\". Notice that now Google is rolling out GAv4 that removed the \",(0,n.jsxDEV)(t.code,{children:\"View\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:113,columnNumber:147},this),\" panel. Therefore, if you want the snippet to work, in your Google Console you need to create a \",(0,n.jsxDEV)(t.strong,{children:\"Universal Analytic Property\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:113,columnNumber:249},this),\" and use its ID:\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:113,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.ul,{children:[`\n`,(0,n.jsxDEV)(t.li,{children:[\"From your Analytics Admin, click on \",(0,n.jsxDEV)(t.strong,{children:\"Create Property\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:115,columnNumber:39},this)]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:115,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.li,{children:[\"Enter the property name and click on \",(0,n.jsxDEV)(t.strong,{children:\"Show advance options\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:116,columnNumber:40},this)]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:116,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.li,{children:[\"Enable \",(0,n.jsxDEV)(t.strong,{children:\"Create a Universal Analytics property\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:117,columnNumber:10},this),\". Check both \",(0,n.jsxDEV)(t.strong,{children:\"Create both a Google Analytics 4 and a Universal Analytics property\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:117,columnNumber:64},this),\" and \",(0,n.jsxDEV)(t.strong,{children:\"Enable enhanced measurement for Google Analytics 4 property\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:117,columnNumber:140},this)]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:117,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:115,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h2,{children:\"SSG with DatoCMS\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:119,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"Instead of using the \",(0,n.jsxDEV)(t.code,{children:\"/data\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:121,columnNumber:22},this),\" directory for projects data, I decided to integrate with \",(0,n.jsxDEV)(t.a,{href:\"https://www.datocms.com/\",children:\"DatoCMS\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:121,columnNumber:87},this),\" for some \",(0,n.jsxDEV)(t.a,{href:\"https://jamstack.org/\",children:\"Jamstack\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:121,columnNumber:132},this),\" vibes. The process is quite simple:\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:121,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.ul,{children:[`\n`,(0,n.jsxDEV)(t.li,{children:\"Register a new account at DatoCMS\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.li,{children:\"Add DatoCMS integration in Vercel\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:124,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.li,{children:[\"Fetch the GraphQL API in \",(0,n.jsxDEV)(t.code,{children:\"getStaticProps\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:125,columnNumber:28},this)]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:125,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:123,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"I found everything I need in the Next.js \",(0,n.jsxDEV)(t.a,{href:\"https://github.com/vercel/next.js/tree/canary/examples/cms-datocms\",children:\"cms-datocms example\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:127,columnNumber:42},this),\" and \",(0,n.jsxDEV)(t.a,{href:\"https://www.datocms.com/docs\",children:\"DatoCMS documentation\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:127,columnNumber:136},this),\". Working with DatoCMS graphql is a nice experience, as I have never worked with graphql before.\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:127,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.blockquote,{children:[`\n`,(0,n.jsxDEV)(t.p,{children:[\"Tips with environment variables: Make use of the Vercel CLI. After added an integration, you can use \",(0,n.jsxDEV)(t.code,{children:\"vercel env pull\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:129,columnNumber:104},this),\" to get the ENV variables to your local \",(0,n.jsxDEV)(t.code,{children:\".env\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:129,columnNumber:161},this),\" file. I found this to be pretty handy when integrating services.\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:129,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:129,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h2,{children:\"\\u{1F3A7} Now Playing with Spotify\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:131,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"Another feature \",(0,n.jsxDEV)(t.a,{href:\"https://leerob.io/blog/spotify-api-nextjs\",children:\"stolen from Lee\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:133,columnNumber:17},this),\" \\u{1F604}. See his article to learn how to set things up with Spotify API.\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:133,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:\"The Music Equalizer component is my touch, which is also available on CodePen as a CSS-only version. The visual is taken from Instagram story's music equalizer.\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:135,columnNumber:1},this),`\n`,(0,n.jsxDEV)(R,{codePenId:\"OJpqEKV\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:137,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:\"\\xA0\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:138,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:\"The end result \\u2728\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:140,columnNumber:1},this),`\n`,(0,n.jsxDEV)(\"div\",{className:\"flex items-center justify-center\",children:(0,n.jsxDEV)(\"video\",{autoPlay:!0,playsInline:!0,controls:!0,loop:!0,src:\"/static/blog/over-engineering-thvu-dev/spotify-playing.mov\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:143,columnNumber:3},this)},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:142,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h1,{children:\"Lighthouse score\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:152,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"The generated site already has a very high Lighthouse score. I added PWA and \",(0,n.jsxDEV)(t.em,{children:\"perfected\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:154,columnNumber:78},this),\" the bars. Lighthouse report is available \",(0,n.jsxDEV)(t.a,{href:\"https://googlechrome.github.io/lighthouse/viewer/?gist=fabc591d26e4f40c2d4446ed962a629d\",children:\"here\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:154,columnNumber:131},this),\".\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:154,columnNumber:1},this),`\n`,(0,n.jsxDEV)(x,{tweetLink:\"thanghvu/status/1434148959602176000\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:156,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:\"What I improved compared to the starter project:\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:157,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.ul,{children:[`\n`,(0,n.jsxDEV)(t.li,{children:\"PWA: Better icons, manifest\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:159,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.li,{children:\"SEO: Added robots.txt\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:160,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:159,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h2,{children:\"PWA\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:162,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"The easiest way to implement PWA support in a Next.js project is to use \",(0,n.jsxDEV)(t.a,{href:\"https://www.npmjs.com/package/next-pwa\",children:\"next-pwa\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:164,columnNumber:73},this),\".\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:164,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h3,{children:\"favicons\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:166,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:\"I use https://realfavicongenerator.net to generate the icons.\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:168,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h3,{children:(0,n.jsxDEV)(t.code,{children:\"manifest.json\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:170,columnNumber:5},this)},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:170,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"To get the perfect score for PWA, ensure the following in \",(0,n.jsxDEV)(t.code,{children:\"icons\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:172,columnNumber:59},this),\":\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:172,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.ul,{children:[`\n`,(0,n.jsxDEV)(t.li,{children:[\"A 512x512 image for \",(0,n.jsxDEV)(t.a,{href:\"https://web.dev/splash-screen/\",children:\"splash screen\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:174,columnNumber:23},this)]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:174,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.li,{children:[\"An image with \",(0,n.jsxDEV)(t.code,{children:\"purpose: any maskable\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:175,columnNumber:17},this),\". I use \",(0,n.jsxDEV)(t.a,{href:\"https://maskable.app/editor\",children:\"maskable.app\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:175,columnNumber:48},this),\" to help with this.\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:175,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:174,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h1,{children:\"Content Security Policy\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:177,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:\"Websites I use to get CSP rating:\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:179,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.ul,{children:[`\n`,(0,n.jsxDEV)(t.li,{children:\"https://securityheaders.com\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:181,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.li,{children:\"https://csp-evaluator.withgoogle.com\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:182,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:181,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"If you are implementing CSP for your site, my suggestion is to start with \",(0,n.jsxDEV)(t.a,{href:\"https://developers.google.com/web/fundamentals/security/csp#use_case_2_lockdown\",children:\"super strict CSP (lockdown)\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:184,columnNumber:75},this),\" and build from there.\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:184,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h1,{children:\"Monitoring with Sentry\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:186,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:\"Sentry with Next.js is a delightful experience. The steps are:\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:188,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.ul,{children:[`\n`,(0,n.jsxDEV)(t.li,{children:\"Go to https://sentry.io to register for a free tier account.\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:190,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.li,{children:\"Add Sentry integration to Vercel.\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:191,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.li,{children:\"Install the package and run the wizard:\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:192,columnNumber:1},this),`\n`]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:190,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.pre,{children:(0,n.jsxDEV)(t.code,{className:\"language-shell\",children:`yarn add @sentry/nextjs\nnpx @sentry/wizard -i nextjs\n`},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:194,columnNumber:1},this)},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:194,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"I only want Sentry in production. To do this, in my \",(0,n.jsxDEV)(t.code,{children:\"next.config.js\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:199,columnNumber:53},this),\":\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:199,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.pre,{children:(0,n.jsxDEV)(t.code,{className:\"language-js\",children:`module.exports = isDevelopment\n  ? nextConfig\n  : withSentryConfig(nextConfig, SentryWebpackPluginOptions);\n`},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:201,columnNumber:1},this)},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:201,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.blockquote,{children:[`\n`,(0,n.jsxDEV)(t.p,{children:[(0,n.jsxDEV)(t.code,{children:\"withSentryConfig\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:207,columnNumber:3},this),\" has to be the farthest wrapper to ensure that your source maps include changes from all other Webpack plugins.\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:207,columnNumber:3},this),`\n`]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:207,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.h1,{children:\"Conclusion\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:209,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:\"And there you have it, my over-engineered site, my sweet home on the internet. I learned a lot from other people while building this site. I hope you learned something from this post too. I will continue to upgrade this site in the future, hopefully with more original ideas. Stay tuned for future posts!\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:211,columnNumber:1},this),`\n`,(0,n.jsxDEV)(t.p,{children:[\"The source code of this site is available on \",(0,n.jsxDEV)(t.a,{href:\"https://github.com/ThangHuuVu/thvu-blog\",children:\"Github\"},void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:213,columnNumber:46},this),\".\"]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:213,columnNumber:1},this)]},void 0,!0,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\",lineNumber:1,columnNumber:1},this)}function Rt(d={}){let{wrapper:t}=d.components||{};return t?(0,n.jsxDEV)(t,Object.assign({},d,{children:(0,n.jsxDEV)(Ce,d,void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\"},this)}),void 0,!1,{fileName:\"E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx\"},this):Ce(d)}var ht=Rt;function X(d,t,c){throw new Error(\"Expected \"+(t?\"component\":\"object\")+\" `\"+d+\"` to be defined: you likely forgot to import, pass, or provide it.\"+(c?\"\\nIt\\u2019s referenced in your code at `\"+c+\"` in `E:\\\\PROGRAMARE_My_Codes\\\\React.js_Next.js_projects\\\\my-static-nextjs13-portfolio\\\\data\\\\blog\\\\_mdx_bundler_entry_point-5328af61-0ad5-4890-b1b2-14f3189a6fbb.mdx`\":\"\"))}return pt(jt);})();\n/*! Bundled license information:\n\nreact/cjs/react-jsx-dev-runtime.development.js:\n  (**\n   * @license React\n   * react-jsx-dev-runtime.development.js\n   *\n   * Copyright (c) Facebook, Inc. and its affiliates.\n   *\n   * This source code is licensed under the MIT license found in the\n   * LICENSE file in the root directory of this source tree.\n   *)\n*/\n;return Component;"
  },
  "_id": "over-engineering-thvu-dev.mdx",
  "_raw": {
    "sourceFilePath": "over-engineering-thvu-dev.mdx",
    "sourceFileName": "over-engineering-thvu-dev.mdx",
    "sourceFileDir": ".",
    "contentType": "mdx",
    "flattenedPath": "over-engineering-thvu-dev"
  },
  "type": "Post",
  "url": "/blog/over-engineering-thvu-dev"
}